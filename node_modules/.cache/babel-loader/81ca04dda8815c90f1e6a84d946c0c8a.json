{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport { ref } from \"vue\"; // import { useUser } from \"@/composables/useUser\"\n// import useCollection from \"@/composables/useCollection\"\n\nimport useStorage from \"@/composables/useStorage\";\nexport default {\n  setup() {\n    const isMoreDetails = ref(false);\n    const total = ref(0);\n    const category = ref(\"\");\n    const note = ref(\"\");\n    const time = ref(new Date());\n    const {\n      url,\n      uploadFile\n    } = useStorage('transactions');\n    const file = ref(null);\n    const errorFile = ref(null);\n\n    function onChangeFile(event) {\n      const selected = event.target.files[0];\n      const typesFile = [\"image/png\", \"image/jpg\"];\n\n      if (selected && typesFile.includes(selected.type)) {\n        file.value = selected;\n      } else {\n        file.value = null;\n        errorFile.value = \"Please select a file type png or jpg\";\n      }\n    }\n\n    async function onSubmit() {\n      if (file.value) await uploadFile(file.value);\n      console.log(\"URL\", url);\n    }\n\n    return {\n      isMoreDetails,\n      total,\n      category,\n      note,\n      time,\n      errorFile,\n      onChangeFile,\n      onSubmit\n    };\n  }\n\n};","map":{"version":3,"mappings":";AAiJA,SAASA,GAAT,QAAoB,KAApB,C,CACA;AACA;;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,eAAe;EACbC,KAAK,GAAG;IACN,MAAMC,aAAY,GAAIH,GAAG,CAAC,KAAD,CAAzB;IACA,MAAMI,KAAI,GAAIJ,GAAG,CAAC,CAAD,CAAjB;IACA,MAAMK,QAAO,GAAIL,GAAG,CAAC,EAAD,CAApB;IACA,MAAMM,IAAG,GAAIN,GAAG,CAAC,EAAD,CAAhB;IACA,MAAMO,IAAG,GAAIP,GAAG,CAAC,IAAIQ,IAAJ,EAAD,CAAhB;IAEA,MAAM;MAAEC,GAAF;MAAOC;IAAP,IAAsBT,UAAU,CAAC,cAAD,CAAtC;IAEA,MAAMU,IAAG,GAAIX,GAAG,CAAC,IAAD,CAAhB;IACA,MAAMY,SAAQ,GAAIZ,GAAG,CAAC,IAAD,CAArB;;IAEA,SAASa,YAAT,CAAsBC,KAAtB,EAA6B;MAC3B,MAAMC,QAAO,GAAID,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAjB;MACA,MAAMC,SAAQ,GAAI,CAAC,WAAD,EAAc,WAAd,CAAlB;;MAEA,IAAIH,QAAO,IAAKG,SAAS,CAACC,QAAV,CAAmBJ,QAAQ,CAACK,IAA5B,CAAhB,EAAmD;QACjDT,IAAI,CAACU,KAAL,GAAaN,QAAb;MACF,CAFA,MAEO;QACLJ,IAAI,CAACU,KAAL,GAAa,IAAb;QACAT,SAAS,CAACS,KAAV,GAAkB,sCAAlB;MACF;IACF;;IACA,eAAeC,QAAf,GAA0B;MACxB,IAAIX,IAAI,CAACU,KAAT,EAAgB,MAAMX,UAAU,CAACC,IAAI,CAACU,KAAN,CAAhB;MAChBE,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBf,GAAnB;IAEF;;IACA,OAAO;MACLN,aADK;MAELC,KAFK;MAGLC,QAHK;MAILC,IAJK;MAKLC,IALK;MAMLK,SANK;MAOLC,YAPK;MAQLS;IARK,CAAP;EAUF;;AAvCa,CAAf","names":["ref","useStorage","setup","isMoreDetails","total","category","note","time","Date","url","uploadFile","file","errorFile","onChangeFile","event","selected","target","files","typesFile","includes","type","value","onSubmit","console","log"],"sourceRoot":"","sources":["/home/thanhphong/Downloads/VueJS/Project-RHP/i-money/src/views/new-transaction.vue"],"sourcesContent":["<template>\n  <form @submit.prevent=\"onSubmit\">\n\n    <!-- Start main form -->\n    <div class=\"row mt-8\">\n      <div class=\"bg-white rounded-lg py-4\">\n        <div class=\"container mx-auto px-8\">\n          <div class=\"row\">\n            <label for=\"total\" class=\"flex item-end\">\n              <div class=\"w-10 text-right leading-10 mr-4 pb-1\">\n                <span class=\"inline-block px-1 text-dark border border-dark rounded text-sm font-bold\">USD</span>\n              </div>\n              <div class=\"flex flex-col border-b border-gray-100 pb-1\">\n                <span class=\"font-semibold text-xs\">Total</span>\n                <input id=\"total\" class=\"text-4xl text-dark w-full outline-none mt-1\" type=\"text\" placeholder=\"0\"\n                  v-model=\"total\">\n              </div>\n            </label>\n\n          </div>\n          <div class=\"row\">\n            <label for=\"category\" class=\"flex item-center\">\n              <div class=\"flex items-center flex-none w-10 text-right leading-10 mr-4\">\n                <span class=\"inline-block ml-auto w-8 h-8 rounded-full bg-blue-300\"></span>\n              </div>\n              <div class=\"flex-1 border-b border-gray-100 py-3\">\n                <input id=\"category\" class=\"text-xl text-dark w-full outline-none\" type=\"text\"\n                  placeholder=\"Select a category\" v-model=\"category\">\n              </div>\n            </label>\n\n          </div>\n          <div class=\"row\">\n            <label for=\"note\" class=\"flex item-center\">\n              <div class=\"flex items-center flex-none w-10 text-right leading-10 mr-4\">\n                <span class=\"flex-none w-10 mr-4\">\n                  <i class=\"t2ico t2ico-document text-2xl\"></i>\n                </span>\n              </div>\n              <div class=\"flex-1 border-b border-gray-100 py-3\">\n                <input id=\"note\" class=\"text-xl text-dark w-full outline-none\" type=\"text\" placeholder=\"Note\"\n                  v-model=\"note\">\n              </div>\n            </label>\n\n          </div>\n          <div class=\"row\">\n            <label for=\"time\" class=\"flex item-center\">\n              <div class=\"flex-none w-10 mr-4\">\n                <span class=\"flex items-center justify-end text-dark\">\n                  <i class=\"t2ico t2ico-calendar text-2xl\"></i>\n                </span>\n              </div>\n              <div class=\"flex-1 py-2 border-b border-gray-100\">\n                <div class=\"text-dark w-full\">{{ new Date() }}</div>\n              </div>\n            </label>\n\n          </div>\n          <div class=\"row\">\n            <label for=\"wallet\" class=\"flex item-center\">\n              <div class=\"flex-none w-10 mr-4\">\n                <span class=\"flex items-center justify-end text-dark\">\n                  <i class=\"t2ico t2ico-wallet text-2xl\"></i>\n                </span>\n              </div>\n              <div class=\"flex-1 py-2\">\n                <div class=\"text-dark w-full\">My Wallet</div>\n              </div>\n            </label>\n\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"row mt-8\" v-if=\"!isMoreDetails\">\n      <button @click=\"isMoreDetails = true\" class=\"bg-white rounded-lg py-3 w-full text-primary font-semibold\">More\n        Details</button>\n    </div>\n\n    <!-- Start Advanced form -->\n    <template v-if=\"isMoreDetails\">\n      <div class=\"row mt-8\">\n        <div class=\"bg-white rounded-lg py-4\">\n          <div class=\"container mx-auto px-8\">\n            <div class=\"row\">\n              <label for=\"location\" class=\"flex item-center\">\n                <div class=\"flex-none w-10 mr-4\">\n                  <span class=\"flex items-center justify-end text-dark\">\n                    <i class=\"t2ico t2ico-location text-2xl\"></i>\n                  </span>\n                </div>\n                <div class=\"flex-1 py-2 border-b border-gray-100\">\n                  <input type=\"text\" class=\"text-dark w-full outline-none\" placeholder=\"Select a location\">\n                </div>\n              </label>\n\n            </div>\n            <div class=\"row\">\n              <label for=\"withPerson\" class=\"flex item-center\">\n                <div class=\"flex-none w-10 mr-4\">\n                  <span class=\"flex items-center justify-end text-dark\">\n                    <i class=\"t2ico t2ico-users text-2xl\"></i>\n                  </span>\n                </div>\n                <div class=\"flex-1 py-2\">\n                  <input type=\"text\" class=\"text-dark w-full outline-none\" placeholder=\"With person\">\n                </div>\n              </label>\n\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Start Upload photos -->\n      <div class=\"row mt-8\">\n        <div class=\"bg-white rounded-lg py-4\">\n          <div class=\"container mx-auto px-8\">\n            <div class=\"row\">\n              <label for=\"file\" class=\"flex item-center text-primary\">\n                <div class=\"flex-none w-10 mr-4\">\n                  <span class=\"flex items-center justify-end\">\n                    <i class=\"t2ico t2ico-camera text-2xl\"></i>\n                  </span>\n                </div>\n                <div class=\"flex-1 py-2\">\n                  <div class=\"w-full font-semibold\">Upload Photo</div>\n                  <input id=\"file\" type=\"file\" class=\"w-0 h-0 overflow-hidden absolute\" @change=\"onChangeFile\">\n                </div>\n              </label>\n\n            </div>\n          </div>\n        </div>\n        <div class=\"text-rose-600\">{{ errorFile }}</div>\n      </div>\n    </template>\n\n    <button class=\"bg-primary text-white\">testing</button>\n  </form>\n</template>\n\n<script>\nimport { ref } from \"vue\"\n// import { useUser } from \"@/composables/useUser\"\n// import useCollection from \"@/composables/useCollection\"\nimport useStorage from \"@/composables/useStorage\"\nexport default {\n  setup() {\n    const isMoreDetails = ref(false)\n    const total = ref(0)\n    const category = ref(\"\")\n    const note = ref(\"\")\n    const time = ref(new Date())\n\n    const { url, uploadFile } = useStorage('transactions')\n\n    const file = ref(null)\n    const errorFile = ref(null)\n\n    function onChangeFile(event) {\n      const selected = event.target.files[0]\n      const typesFile = [\"image/png\", \"image/jpg\"]\n\n      if (selected && typesFile.includes(selected.type)) {\n        file.value = selected\n      } else {\n        file.value = null\n        errorFile.value = \"Please select a file type png or jpg\"\n      }\n    }\n    async function onSubmit() {\n      if (file.value) await uploadFile(file.value)\n      console.log(\"URL\", url);\n\n    }\n    return {\n      isMoreDetails,\n      total,\n      category,\n      note,\n      time,\n      errorFile,\n      onChangeFile,\n      onSubmit,\n    }\n  }\n}\n</script>"]},"metadata":{},"sourceType":"module"}