{"ast":null,"code":"import _regeneratorRuntime from \"/home/thanhphong/Downloads/VueJS/MoneyManager/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/thanhphong/Downloads/VueJS/MoneyManager/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ref } from \"vue\";\nimport { projectFirestore } from \"@/configs/firebase\";\n\nvar useCollection = function useCollection(name) {\n  var error = ref(null);\n\n  function addRecord(_x) {\n    return _addRecord.apply(this, arguments);\n  }\n\n  function _addRecord() {\n    _addRecord = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(record) {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              error.value = null;\n              _context.prev = 1;\n              _context.next = 4;\n              return projectFirestore.collection(name).add(record);\n\n            case 4:\n              response = _context.sent;\n              return _context.abrupt(\"return\", response);\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n              error.value = _context.t0.message;\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 8]]);\n    }));\n    return _addRecord.apply(this, arguments);\n  }\n\n  return {\n    error: error,\n    addRecord: addRecord\n  };\n};\n\nexport default useCollection;","map":{"version":3,"names":["ref","projectFirestore","useCollection","name","error","addRecord","record","value","collection","add","response","console","log","message"],"sources":["/home/thanhphong/Downloads/VueJS/MoneyManager/src/composables/useCollection.js"],"sourcesContent":["import { ref } from \"vue\";\nimport { projectFirestore } from \"@/configs/firebase\";\n\n\nconst useCollection = (name) => {\n    const error = ref(null);\n    async function addRecord(record) {\n        error.value = null;\n\n        try {\n            const response = await projectFirestore.collection(name).add(record);\n            return response;\n        } catch (err) {\n            console.log(err);\n            error.value = err.message;\n\n        }\n    }\n\n    return { error, addRecord }\n}\n\nexport default useCollection"],"mappings":";;AAAA,SAASA,GAAT,QAAoB,KAApB;AACA,SAASC,gBAAT,QAAiC,oBAAjC;;AAGA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,IAAD,EAAU;EAC5B,IAAMC,KAAK,GAAGJ,GAAG,CAAC,IAAD,CAAjB;;EAD4B,SAEbK,SAFa;IAAA;EAAA;;EAAA;IAAA,wEAE5B,iBAAyBC,MAAzB;MAAA;MAAA;QAAA;UAAA;YAAA;cACIF,KAAK,CAACG,KAAN,GAAc,IAAd;cADJ;cAAA;cAAA,OAI+BN,gBAAgB,CAACO,UAAjB,CAA4BL,IAA5B,EAAkCM,GAAlC,CAAsCH,MAAtC,CAJ/B;;YAAA;cAIcI,QAJd;cAAA,iCAKeA,QALf;;YAAA;cAAA;cAAA;cAOQC,OAAO,CAACC,GAAR;cACAR,KAAK,CAACG,KAAN,GAAc,YAAIM,OAAlB;;YARR;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAF4B;IAAA;EAAA;;EAe5B,OAAO;IAAET,KAAK,EAALA,KAAF;IAASC,SAAS,EAATA;EAAT,CAAP;AACH,CAhBD;;AAkBA,eAAeH,aAAf"},"metadata":{},"sourceType":"module"}